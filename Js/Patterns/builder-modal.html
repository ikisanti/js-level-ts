<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Builder Pattern Modal Demo</title>
  <style>
    body { font-family: Arial, sans-serif; }
    .modal-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.4);
      display: none;
      align-items: center;
      justify-content: center;
    }
    .modal {
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
      max-width: 90%;
    }
    .modal-title {
      font-size: 1.2rem;
      margin-bottom: 10px;
    }
    .modal-message {
      margin-bottom: 20px;
    }
    .modal-buttons {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
    }
  </style>
</head>
<body>

<button id="openBtn">Open Delete Modal</button>

<div id="modalOverlay" class="modal-overlay">
  <div id="modalBox" class="modal">
    <div id="modalTitle" class="modal-title"></div>
    <div id="modalMessage" class="modal-message"></div>
    <div class="modal-buttons">
      <button id="cancelBtn"></button>
      <button id="confirmBtn"></button>
    </div>
  </div>
</div>

<script>
class ModalBuilder {
  constructor() {
    this.config = {
      title: "",
      message: "",
      confirmText: "OK",
      cancelText: "Cancel",
      width: 400,
      onConfirm: () => {},
      onCancel: () => {}
    };
  }
  static create() { return new ModalBuilder(); }
  title(t) { this.config.title = t; return this; }
  message(m) { this.config.message = m; return this; }
  confirmText(txt) { this.config.confirmText = txt; return this; }
  cancelText(txt) { this.config.cancelText = txt; return this; }
  width(px) { this.config.width = px; return this; }
  onConfirm(fn) { this.config.onConfirm = fn; return this; }
  onCancel(fn) { this.config.onCancel = fn; return this; }
  build() { return { ...this.config }; }
}

function showModal(cfg) {
  const overlay = document.getElementById('modalOverlay');
  const box = document.getElementById('modalBox');
  document.getElementById('modalTitle').innerText = cfg.title;
  document.getElementById('modalMessage').innerText = cfg.message;
  const cancelBtn = document.getElementById('cancelBtn');
  const confirmBtn = document.getElementById('confirmBtn');
  cancelBtn.innerText = cfg.cancelText;
  confirmBtn.innerText = cfg.confirmText;
  box.style.width = cfg.width + "px";

  cancelBtn.onclick = () => { cfg.onCancel(); overlay.style.display = 'none'; };
  confirmBtn.onclick = () => { cfg.onConfirm(); overlay.style.display = 'none'; };

  overlay.style.display = 'flex';
}

document.getElementById('openBtn').addEventListener('click', () => {
  const deleteModal = ModalBuilder.create()
    .title("Delete item")
    .message("Are you sure you want to delete this item?")
    .confirmText("Yes, delete")
    .cancelText("Cancel")
    .width(500)
    .onConfirm(() => alert("Item deleted"))
    .onCancel(() => alert("Canceled"))
    .build();

  showModal(deleteModal);
});
</script>

</body>
</html>
